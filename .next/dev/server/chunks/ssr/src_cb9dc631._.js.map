{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nickkanning/Projects/IE_5541/campus-sync/src/constants/map.ts"],"sourcesContent":["import type { LatLngTuple } from \"@/types/tunnels\";\n\nexport const MAP_CENTER: LatLngTuple = [44.9739, -93.2317];\nexport const MAP_ZOOM = 16.5;\n\nexport const TILE_LAYER_URL =\n  \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\nexport const TILE_ATTRIBUTION =\n  '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\n"],"names":[],"mappings":";;;;;;;;;;AAEO,MAAM,aAA0B;IAAC;IAAS,CAAC;CAAQ;AACnD,MAAM,WAAW;AAEjB,MAAM,iBACX;AACK,MAAM,mBACX","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///Users/nickkanning/Projects/IE_5541/campus-sync/src/constants/tunnels.ts"],"sourcesContent":["import type { NodeCategory } from \"@/types/tunnels\";\n\nexport const NODE_TYPE_LABEL: Record<NodeCategory, string> = {\n  academic: \"Academic Building\",\n  student: \"Student Life\",\n  research: \"Research & Labs\",\n};\n\nexport const NODE_COLORS: Record<NodeCategory, string> = {\n  academic: \"#7a0019\",\n  student: \"#ffcc33\",\n  research: \"#c26d13\",\n};\n\nexport const TUNNEL_STROKE = \"rgba(122, 0, 25, 0.7)\";\nexport const TUNNEL_HIGHLIGHT = \"#ffcc33\";\n"],"names":[],"mappings":";;;;;;;;;;AAEO,MAAM,kBAAgD;IAC3D,UAAU;IACV,SAAS;IACT,UAAU;AACZ;AAEO,MAAM,cAA4C;IACvD,UAAU;IACV,SAAS;IACT,UAAU;AACZ;AAEO,MAAM,gBAAgB;AACtB,MAAM,mBAAmB","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Users/nickkanning/Projects/IE_5541/campus-sync/src/components/map-view.tsx"],"sourcesContent":["'use client';\n\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  MAP_CENTER,\n  MAP_ZOOM,\n  TILE_ATTRIBUTION,\n  TILE_LAYER_URL,\n} from \"@/constants/map\";\nimport { TUNNEL_HIGHLIGHT } from \"@/constants/tunnels\";\nimport type { ArcgisGeoJsonLayer } from \"@/types/arcgis\";\nimport type { GeoJsonGeometry } from \"@/types/geojson\";\nimport type { LatLngTuple } from \"@/types/tunnels\";\n\ntype MapLibreModule = typeof import(\"maplibre-gl\");\n\ntype MapViewProps = {\n  routeLine: LatLngTuple[];\n  geoJsonLayers: ArcgisGeoJsonLayer[];\n  startMarker?: LatLngTuple | null;\n  endMarker?: LatLngTuple | null;\n};\n\ntype Bounds = {\n  minLat: number;\n  maxLat: number;\n  minLon: number;\n  maxLon: number;\n};\n\nconst createEmptyBounds = (): Bounds => ({\n  minLat: Number.POSITIVE_INFINITY,\n  maxLat: Number.NEGATIVE_INFINITY,\n  minLon: Number.POSITIVE_INFINITY,\n  maxLon: Number.NEGATIVE_INFINITY,\n});\n\nconst extendBounds = (bounds: Bounds, lat: number, lon: number) => {\n  if (!Number.isFinite(lat) || !Number.isFinite(lon)) return;\n  if (lat < bounds.minLat) bounds.minLat = lat;\n  if (lat > bounds.maxLat) bounds.maxLat = lat;\n  if (lon < bounds.minLon) bounds.minLon = lon;\n  if (lon > bounds.maxLon) bounds.maxLon = lon;\n};\n\nconst isBoundsValid = (bounds: Bounds): boolean =>\n  Number.isFinite(bounds.minLat) &&\n  Number.isFinite(bounds.maxLat) &&\n  Number.isFinite(bounds.minLon) &&\n  Number.isFinite(bounds.maxLon) &&\n  bounds.minLat <= bounds.maxLat &&\n  bounds.minLon <= bounds.maxLon;\n\ntype PrimitiveGeometry = \"polygon\" | \"line\" | \"point\";\n\nconst geometryMatches = (\n  geometry: GeoJsonGeometry | null | undefined,\n  type: PrimitiveGeometry,\n): boolean => {\n  if (!geometry) return false;\n\n  switch (geometry.type) {\n    case \"Polygon\":\n    case \"MultiPolygon\":\n      return type === \"polygon\";\n    case \"LineString\":\n    case \"MultiLineString\":\n      return type === \"line\";\n    case \"Point\":\n    case \"MultiPoint\":\n      return type === \"point\";\n    case \"GeometryCollection\":\n      return geometry.geometries.some((child) =>\n        geometryMatches(child, type),\n      );\n    default:\n      return false;\n  }\n};\n\nconst visitGeometry = (\n  geometry: GeoJsonGeometry | null | undefined,\n  visit: (lat: number, lon: number) => void,\n): void => {\n  if (!geometry) return;\n\n  switch (geometry.type) {\n    case \"Point\": {\n      const [lon, lat] = geometry.coordinates;\n      visit(lat, lon);\n      break;\n    }\n    case \"MultiPoint\":\n      geometry.coordinates.forEach(([lon, lat]) => visit(lat, lon));\n      break;\n    case \"LineString\":\n      geometry.coordinates.forEach(([lon, lat]) => visit(lat, lon));\n      break;\n    case \"MultiLineString\":\n      geometry.coordinates.forEach((line) =>\n        line.forEach(([lon, lat]) => visit(lat, lon)),\n      );\n      break;\n    case \"Polygon\":\n      geometry.coordinates.forEach((ring) =>\n        ring.forEach(([lon, lat]) => visit(lat, lon)),\n      );\n      break;\n    case \"MultiPolygon\":\n      geometry.coordinates.forEach((polygon) =>\n        polygon.forEach((ring) =>\n          ring.forEach(([lon, lat]) => visit(lat, lon)),\n        ),\n      );\n      break;\n    case \"GeometryCollection\":\n      geometry.geometries.forEach((child) => visitGeometry(child, visit));\n      break;\n    default:\n      break;\n  }\n};\n\nconst toLonLat = ([lat, lon]: LatLngTuple): [number, number] => [lon, lat];\n\ntype PolygonRenderStyle = {\n  color: string;\n  weight: number;\n  opacity: number;\n  fillColor: string;\n  fillOpacity: number;\n  dashArray?: string;\n};\n\ntype LayerStyleOverrides = {\n  polygon?: Partial<PolygonRenderStyle>;\n};\n\nconst DEFAULT_POLYGON_STYLE: PolygonRenderStyle = {\n  color: \"#2563eb\",\n  weight: 1.5,\n  opacity: 0.9,\n  fillColor: \"#60a5fa\",\n  fillOpacity: 0.2,\n};\n\nconst LAYER_STYLE_OVERRIDES: Record<string, LayerStyleOverrides> = {\n  GOPHER_WAY_LEVEL_BLDGS: {\n    polygon: {\n      color: \"#0ea5e9\",\n      fillColor: \"#38bdf8\",\n      fillOpacity: 0.15,\n    },\n  },\n  GW_CIRCULATION_AREAS: {\n    polygon: {\n      color: \"#f59e0b\",\n      fillColor: \"#facc15\",\n      fillOpacity: 0.25,\n    },\n  },\n  GW_NON_ADA_ACCESSIBLE: {\n    polygon: {\n      color: \"#f97316\",\n      dashArray: \"6 4\",\n      fillOpacity: 0.1,\n    },\n  },\n  GW_FP_LINES_STAIRS: {\n    polygon: {\n      color: \"#34d399\",\n      dashArray: \"4 4\",\n      fillOpacity: 0.08,\n    },\n  },\n  GW_FP_GROSS_AREA: {\n    polygon: {\n      color: \"#f472b6\",\n      fillColor: \"#fbcfe8\",\n      fillOpacity: 0.12,\n    },\n  },\n  GW_PORTION_DIFFERENT_LEVEL: {\n    polygon: {\n      color: \"#f87171\",\n      fillColor: \"#fecaca\",\n      fillOpacity: 0.18,\n    },\n  },\n  GW_FLOOR_NAME_CHANGE: {\n    polygon: {\n      color: \"#22c55e\",\n      dashArray: \"2 6\",\n      fillOpacity: 0.08,\n    },\n  },\n};\n\nconst getLayerStyle = (feature: string): PolygonRenderStyle => {\n  const override = LAYER_STYLE_OVERRIDES[feature]?.polygon ?? {};\n  return { ...DEFAULT_POLYGON_STYLE, ...override };\n};\n\nconst START_MARKER_COLOR = \"#22c55e\";\nconst END_MARKER_COLOR = \"#ef4444\";\n\nexport const MapView = ({\n  routeLine,\n  geoJsonLayers,\n  startMarker,\n  endMarker,\n}: MapViewProps) => {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const mapRef = useRef<any>(null);\n  const layerRegistryRef = useRef<{ layers: string[]; sources: string[] }>({\n    layers: [],\n    sources: [],\n  });\n  const ensureSourcesRef = useRef<(shouldFitBounds: boolean) => void>(() => undefined);\n  const hasFitBoundsRef = useRef(false);\n  const [mapError, setMapError] = useState<string | null>(null);\n\n  const routeFeatureCollection = useMemo(() => {\n    if (routeLine.length < 2) {\n      return null;\n    }\n    return {\n      type: \"FeatureCollection\" as const,\n      features: [\n        {\n          type: \"Feature\" as const,\n          properties: {},\n          geometry: {\n            type: \"LineString\" as const,\n            coordinates: routeLine.map(toLonLat),\n          },\n        },\n      ],\n    };\n  }, [routeLine]);\n\n  const markerFeatureCollection = useMemo(() => {\n    const features: Array<{\n      type: \"Feature\";\n      properties: { markerType: \"start\" | \"end\" };\n      geometry: { type: \"Point\"; coordinates: [number, number] };\n    }> = [];\n\n    if (startMarker) {\n      features.push({\n        type: \"Feature\",\n        properties: { markerType: \"start\" },\n        geometry: { type: \"Point\", coordinates: toLonLat(startMarker) },\n      });\n    }\n\n    if (endMarker) {\n      features.push({\n        type: \"Feature\",\n        properties: { markerType: \"end\" },\n        geometry: { type: \"Point\", coordinates: toLonLat(endMarker) },\n      });\n    }\n\n    if (features.length === 0) {\n      return null;\n    }\n\n    return {\n      type: \"FeatureCollection\" as const,\n      features,\n    };\n  }, [startMarker, endMarker]);\n\n  const osmTileUrls = useMemo(() => {\n    if (!TILE_LAYER_URL.includes(\"{s}\")) {\n      return [TILE_LAYER_URL];\n    }\n    return [\"a\", \"b\", \"c\"].map((subdomain) =>\n      TILE_LAYER_URL.replace(\"{s}\", subdomain),\n    );\n  }, []);\n\n  const ensureSources = useCallback(\n    (shouldFitBounds: boolean) => {\n      const map = mapRef.current;\n      if (!map) {\n        return;\n      }\n\n      const { layers, sources } = layerRegistryRef.current;\n      [...layers].reverse().forEach((layerId) => {\n        if (map.getLayer(layerId)) {\n          map.removeLayer(layerId);\n        }\n      });\n      [...sources].reverse().forEach((sourceId) => {\n        if (map.getSource(sourceId)) {\n          map.removeSource(sourceId);\n        }\n      });\n\n      const nextLayers: string[] = [];\n      const nextSources: string[] = [];\n\n      const bounds = createEmptyBounds();\n\n      const recordLayer = (layerId: string) => {\n        nextLayers.push(layerId);\n      };\n\n      const recordSource = (sourceId: string) => {\n        nextSources.push(sourceId);\n      };\n\n    geoJsonLayers.forEach((layer) => {\n      const sourceId = `arcgis-${layer.feature}-${layer.layerId}`;\n      map.addSource(sourceId, {\n        type: \"geojson\",\n        data: layer.featureCollection,\n      });\n      recordSource(sourceId);\n\n      const style = getLayerStyle(layer.feature);\n      const hasPolygons = layer.featureCollection.features.some((feature) =>\n        geometryMatches(feature.geometry, \"polygon\"),\n      );\n      const hasLines = layer.featureCollection.features.some((feature) =>\n        geometryMatches(feature.geometry, \"line\"),\n      );\n\n      layer.featureCollection.features.forEach((feature) => {\n        visitGeometry(\n          feature.geometry as GeoJsonGeometry | null | undefined,\n          (lat, lon) => extendBounds(bounds, lat, lon),\n        );\n      });\n\n      if (hasPolygons) {\n        const fillId = `${sourceId}-fill`;\n        map.addLayer({\n          id: fillId,\n          type: \"fill\",\n          source: sourceId,\n          filter: [\"==\", \"$type\", \"Polygon\"],\n          paint: {\n            \"fill-color\": style.fillColor,\n            \"fill-opacity\": style.fillOpacity,\n          },\n        });\n        recordLayer(fillId);\n\n        const outlineId = `${sourceId}-outline`;\n        const outlinePaint: Record<string, unknown> = {\n          \"line-color\": style.color,\n          \"line-width\": style.weight,\n          \"line-opacity\": style.opacity,\n        };\n        if (style.dashArray) {\n          outlinePaint[\"line-dasharray\"] = style.dashArray\n            .split(/\\s+/)\n            .map((chunk) => Number.parseFloat(chunk))\n            .filter((value) => Number.isFinite(value) && value > 0);\n        }\n        map.addLayer({\n          id: outlineId,\n          type: \"line\",\n          source: sourceId,\n          filter: [\"==\", \"$type\", \"Polygon\"],\n          paint: outlinePaint,\n        });\n        recordLayer(outlineId);\n      }\n\n      if (hasLines) {\n        const lineId = `${sourceId}-line`;\n        const linePaint: Record<string, unknown> = {\n          \"line-color\": style.color,\n          \"line-width\": Math.max(style.weight - 0.5, 1),\n          \"line-opacity\": style.opacity,\n        };\n        if (style.dashArray) {\n          linePaint[\"line-dasharray\"] = style.dashArray\n            .split(/\\s+/)\n            .map((chunk) => Number.parseFloat(chunk))\n            .filter((value) => Number.isFinite(value) && value > 0);\n        }\n        map.addLayer({\n          id: lineId,\n          type: \"line\",\n          source: sourceId,\n          filter: [\"any\", [\"==\", \"$type\", \"LineString\"], [\"==\", \"$type\", \"MultiLineString\"]],\n          paint: linePaint,\n        });\n        recordLayer(lineId);\n      }\n    });\n\n    if (routeFeatureCollection && routeFeatureCollection.features.length > 0) {\n      map.addSource(\"route-highlight\", {\n        type: \"geojson\",\n        data: routeFeatureCollection,\n      });\n      recordSource(\"route-highlight\");\n\n      routeFeatureCollection.features[0].geometry.coordinates.forEach(\n        ([lon, lat]) => extendBounds(bounds, lat, lon),\n      );\n\n      map.addLayer({\n        id: \"route-highlight-line\",\n        type: \"line\",\n        source: \"route-highlight\",\n        paint: {\n          \"line-color\": TUNNEL_HIGHLIGHT,\n          \"line-width\": 5,\n          \"line-opacity\": 0.9,\n        },\n        layout: {\n          \"line-cap\": \"round\",\n          \"line-join\": \"round\",\n        },\n      });\n      recordLayer(\"route-highlight-line\");\n    }\n\n    if (markerFeatureCollection && markerFeatureCollection.features.length > 0) {\n      map.addSource(\"route-markers\", {\n        type: \"geojson\",\n        data: markerFeatureCollection,\n      });\n      recordSource(\"route-markers\");\n\n      markerFeatureCollection.features.forEach((feature) => {\n        const [lon, lat] = feature.geometry.coordinates;\n        extendBounds(bounds, lat, lon);\n      });\n\n      map.addLayer({\n        id: \"route-markers-circle\",\n        type: \"circle\",\n        source: \"route-markers\",\n        paint: {\n          \"circle-radius\": 8,\n          \"circle-color\": [\n            \"case\",\n            [\"==\", [\"get\", \"markerType\"], \"start\"],\n            START_MARKER_COLOR,\n            [\"==\", [\"get\", \"markerType\"], \"end\"],\n            END_MARKER_COLOR,\n            START_MARKER_COLOR,\n          ],\n          \"circle-opacity\": 0.95,\n          \"circle-stroke-color\": \"#ffffff\",\n          \"circle-stroke-width\": 2,\n        },\n      });\n      recordLayer(\"route-markers-circle\");\n    }\n\n      layerRegistryRef.current = {\n        layers: nextLayers,\n        sources: nextSources,\n      };\n\n      if (shouldFitBounds && isBoundsValid(bounds) && !hasFitBoundsRef.current) {\n        map.fitBounds(\n          [\n            [bounds.minLon, bounds.minLat],\n            [bounds.maxLon, bounds.maxLat],\n          ],\n          {\n            padding: 60,\n            maxZoom: 18,\n            duration: 0,\n          },\n        );\n        hasFitBoundsRef.current = true;\n      }\n    },\n    [geoJsonLayers, routeFeatureCollection, markerFeatureCollection],\n  );\n\n  ensureSourcesRef.current = ensureSources;\n\n  useEffect(() => {\n    if (!containerRef.current || mapRef.current) {\n      return;\n    }\n\n    let isDestroyed = false;\n\n    setMapError(null);\n\n    const initialize = async () => {\n      try {\n        const maplibregl: MapLibreModule = await import(\"maplibre-gl\");\n        if (isDestroyed || !containerRef.current) {\n          return;\n        }\n\n        const map = new maplibregl.Map({\n          container: containerRef.current,\n          style: {\n            version: 8,\n            sources: {\n              \"osm-base\": {\n                type: \"raster\",\n                tiles: osmTileUrls,\n                tileSize: 256,\n                attribution: TILE_ATTRIBUTION,\n              },\n            },\n            layers: [\n              {\n                id: \"osm-base\",\n                type: \"raster\",\n                source: \"osm-base\",\n                minzoom: 0,\n                maxzoom: 19,\n              },\n            ],\n          },\n          center: [MAP_CENTER[1], MAP_CENTER[0]],\n          zoom: MAP_ZOOM,\n          minZoom: 12,\n          maxZoom: 20,\n          pitch: 0,\n          bearing: 0,\n          maxPitch: 0,\n          dragRotate: false,\n          pitchWithRotate: false,\n          pitchWithTwoFingerDrag: false,\n        });\n\n        const mapAny: any = map;\n\n        mapRef.current = map;\n\n        if (maplibregl.NavigationControl) {\n          map.addControl(new maplibregl.NavigationControl({ showCompass: false }), \"top-right\");\n        }\n\n        const handleLoad = () => {\n          if (!isDestroyed) {\n            if (typeof mapAny.dragRotate?.disable === \"function\") {\n              mapAny.dragRotate.disable();\n            }\n            if (typeof mapAny.touchZoomRotate?.disableRotation === \"function\") {\n              mapAny.touchZoomRotate.disableRotation();\n            }\n            ensureSourcesRef.current(true);\n          }\n        };\n\n        map.once(\"load\", handleLoad);\n      } catch (error) {\n        console.error(\"Failed to load MapLibre GL\", error);\n        if (!isDestroyed) {\n          setMapError(\"Unable to load map view right now.\");\n        }\n      }\n    };\n\n    void initialize();\n\n    return () => {\n      isDestroyed = true;\n      const map = mapRef.current;\n      if (map) {\n        map.remove();\n        mapRef.current = null;\n      }\n      layerRegistryRef.current = { layers: [], sources: [] };\n      hasFitBoundsRef.current = false;\n    };\n  }, [osmTileUrls]);\n\n  useEffect(() => {\n    const map = mapRef.current;\n    if (!map) {\n      return;\n    }\n\n    if (typeof map.isStyleLoaded === \"function\" && !map.isStyleLoaded()) {\n      const handleLoad = () => {\n        ensureSources(false);\n      };\n      map.once(\"load\", handleLoad);\n      return () => {\n        if (typeof map.off === \"function\") {\n          map.off(\"load\", handleLoad);\n        }\n      };\n    }\n\n    ensureSources(false);\n  }, [ensureSources]);\n\n  if (mapError) {\n    return <div className=\"map-shell map-error\">{mapError}</div>;\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"map-shell\"\n      role=\"application\"\n      aria-label=\"Campus map\"\n    />\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///Users/nickkanning/Projects/IE_5541/campus-sync/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { MapView } from \"@/components/map-view\";\nimport { NODE_TYPE_LABEL } from \"@/constants/tunnels\";\nimport type { GeoJsonGeometry } from \"@/types/geojson\";\nimport type { LatLngTuple } from \"@/types/tunnels\";\nimport { api } from \"@/trpc/client\";\n\ntype BuildingOption = {\n  id: string;\n  name: string;\n  position: LatLngTuple;\n  tokens: string[];\n};\n\nconst normalizeToken = (value: unknown): string | null => {\n  if (typeof value !== \"string\") return null;\n  const trimmed = value.trim();\n  if (!trimmed) return null;\n  const normalized = trimmed.replace(/\\s+/g, \" \").toLowerCase();\n  if (!normalized) return null;\n  return normalized;\n};\n\nconst computeFeatureCentroid = (\n  geometry: GeoJsonGeometry | null | undefined,\n): LatLngTuple | null => {\n  if (!geometry) return null;\n\n  let sumLat = 0;\n  let sumLon = 0;\n  let count = 0;\n\n  const record = (lon: number, lat: number) => {\n    if (!Number.isFinite(lat) || !Number.isFinite(lon)) return;\n    sumLat += lat;\n    sumLon += lon;\n    count += 1;\n  };\n\n  const walk = (geom: GeoJsonGeometry | null | undefined) => {\n    if (!geom) return;\n    switch (geom.type) {\n      case \"Point\":\n        record(geom.coordinates[0], geom.coordinates[1]);\n        break;\n      case \"MultiPoint\":\n      case \"LineString\":\n        geom.coordinates.forEach(([lon, lat]) => record(lon, lat));\n        break;\n      case \"MultiLineString\":\n      case \"Polygon\":\n        geom.coordinates.forEach((segment) => {\n          segment.forEach(([lon, lat]) => record(lon, lat));\n        });\n        break;\n      case \"MultiPolygon\":\n        geom.coordinates.forEach((polygon) => {\n          polygon.forEach((ring) => {\n            ring.forEach(([lon, lat]) => record(lon, lat));\n          });\n        });\n        break;\n      case \"GeometryCollection\":\n        geom.geometries.forEach((child) => walk(child));\n        break;\n      default:\n        break;\n    }\n  };\n\n  walk(geometry);\n\n  if (count === 0) return null;\n  return [sumLat / count, sumLon / count];\n};\n\nconst distanceSquared = (a: LatLngTuple, b: LatLngTuple): number => {\n  const dLat = a[0] - b[0];\n  const dLon = a[1] - b[1];\n  return dLat * dLat + dLon * dLon;\n};\n\nexport default function HomePage() {\n  const { data: arcgisData } = api.arcgis.mapData.useQuery();\n  const geoJsonLayers = arcgisData?.layers ?? [];\n\n  const [startBuildingId, setStartBuildingId] = useState<string>(\"\");\n  const [endBuildingId, setEndBuildingId] = useState<string>(\"\");\n  const [startQuery, setStartQuery] = useState<string>(\"\");\n  const [endQuery, setEndQuery] = useState<string>(\"\");\n  const [routeNodeIds, setRouteNodeIds] = useState<string[]>([]);\n  const [routeAttempted, setRouteAttempted] = useState(false);\n\n  const routeLayer = useMemo(\n    () =>\n      geoJsonLayers.find(\n        (layer) => layer.feature === \"GW_ROUTE\",\n      ) ?? null,\n    [geoJsonLayers],\n  );\n\n  type RouteGraphNode = {\n    position: LatLngTuple;\n    neighbors: Map<string, number>;\n  };\n\n  const routeGraph = useMemo(() => {\n    const nodes = new Map<string, RouteGraphNode>();\n    if (!routeLayer) {\n      return { nodes };\n    }\n\n    const keyFor = (lat: number, lon: number): string =>\n      `${lat.toFixed(6)},${lon.toFixed(6)}`;\n\n    const ensureNode = (lat: number, lon: number): string => {\n      const key = keyFor(lat, lon);\n      if (!nodes.has(key)) {\n        nodes.set(key, {\n          position: [lat, lon],\n          neighbors: new Map(),\n        });\n      }\n      return key;\n    };\n\n    const haversineDistance = (a: LatLngTuple, b: LatLngTuple): number => {\n      const R = 6371000;\n      const toRad = (deg: number) => (deg * Math.PI) / 180;\n      const dLat = toRad(b[0] - a[0]);\n      const dLon = toRad(b[1] - a[1]);\n      const lat1 = toRad(a[0]);\n      const lat2 = toRad(b[0]);\n      const sinLat = Math.sin(dLat / 2);\n      const sinLon = Math.sin(dLon / 2);\n      const h =\n        sinLat * sinLat + Math.cos(lat1) * Math.cos(lat2) * sinLon * sinLon;\n      const c = 2 * Math.atan2(Math.sqrt(h), Math.sqrt(1 - h));\n      return R * c;\n    };\n\n    const addEdge = (fromKey: string, toKey: string) => {\n      if (fromKey === toKey) return;\n      const fromNode = nodes.get(fromKey);\n      const toNode = nodes.get(toKey);\n      if (!fromNode || !toNode) return;\n      const distance = haversineDistance(fromNode.position, toNode.position);\n      const existingForward = fromNode.neighbors.get(toKey);\n      if (!existingForward || distance < existingForward) {\n        fromNode.neighbors.set(toKey, distance);\n      }\n      const existingBackward = toNode.neighbors.get(fromKey);\n      if (!existingBackward || distance < existingBackward) {\n        toNode.neighbors.set(fromKey, distance);\n      }\n    };\n\n    const processLine = (coordinates: number[][]) => {\n      for (let index = 0; index < coordinates.length - 1; index += 1) {\n        const [lonA, latA] = coordinates[index];\n        const [lonB, latB] = coordinates[index + 1];\n        const keyA = ensureNode(latA, lonA);\n        const keyB = ensureNode(latB, lonB);\n        addEdge(keyA, keyB);\n      }\n    };\n\n    const walkGeometry = (geometry: GeoJsonGeometry | null | undefined) => {\n      if (!geometry) return;\n      switch (geometry.type) {\n        case \"LineString\":\n          processLine(geometry.coordinates);\n          break;\n        case \"MultiLineString\":\n          geometry.coordinates.forEach((segment) => processLine(segment));\n          break;\n        case \"GeometryCollection\":\n          geometry.geometries.forEach((child) => walkGeometry(child));\n          break;\n        default:\n          break;\n      }\n    };\n\n    routeLayer.featureCollection.features.forEach((feature) => {\n      walkGeometry(feature.geometry as GeoJsonGeometry | null | undefined);\n    });\n\n    return { nodes };\n  }, [routeLayer]);\n\n  const routeNodeEntries = useMemo(\n    () => Array.from(routeGraph.nodes.entries()),\n    [routeGraph],\n  );\n\n  const buildingOptions = useMemo<BuildingOption[]>(() => {\n    const buildingLayer = geoJsonLayers.find(\n      (layer) => layer.feature === \"EGISADMIN_BUILDING_POLYGON_HOSTED\",\n    );\n    if (!buildingLayer) {\n      return [];\n    }\n\n    const seen = new Map<string, BuildingOption>();\n\n    buildingLayer.featureCollection.features.forEach((feature, index) => {\n      const properties = (feature.properties ?? {}) as Record<string, unknown>;\n\n      const rawName =\n        (properties.BLDG_NAME_LABEL as string | undefined) ??\n        (properties.TRI_BLDG_LONG_NAME as string | undefined) ??\n        (properties.TRI_LEGAL_NAME as string | undefined) ??\n        (properties.TRI_BLDG_NAME as string | undefined) ??\n        (properties.NAME as string | undefined) ??\n        \"\";\n      const name = rawName.trim();\n      if (!name) {\n        return;\n      }\n\n      const centroid = computeFeatureCentroid(\n        feature.geometry as GeoJsonGeometry | null | undefined,\n      );\n      if (!centroid) {\n        return;\n      }\n\n      const rawId =\n        properties.SITE_BUILDING ??\n        properties.GlobalID ??\n        properties.OBJECTID ??\n        `building-${index}`;\n      const id = String(rawId);\n      if (seen.has(id)) {\n        return;\n      }\n\n      const tokenSet = new Set<string>();\n      const addToken = (value: unknown) => {\n        const normalized = normalizeToken(value);\n        if (!normalized) return;\n        tokenSet.add(normalized);\n        const cleaned = normalized.replace(/\\([^)]*\\)/g, \"\").trim();\n        if (cleaned && cleaned !== normalized) {\n          tokenSet.add(cleaned);\n        }\n        cleaned\n          .split(/\\s+/)\n          .filter((part) => part.length > 2)\n          .forEach((part) => tokenSet.add(part));\n      };\n\n      addToken(name);\n      addToken(properties.BLDG_NAME_LABEL_SHORT);\n      addToken(properties.TRI_BLDG_NAME);\n      addToken(properties.TRI_BLDG_ABBR);\n      addToken(properties.SITE_BUILDING);\n\n      seen.set(id, {\n        id,\n        name,\n        position: centroid,\n        tokens: Array.from(tokenSet),\n      });\n    });\n\n    return Array.from(seen.values()).sort((a, b) =>\n      a.name.localeCompare(b.name),\n    );\n  }, [geoJsonLayers]);\n\n  const buildingMap = useMemo(\n    () => new Map(buildingOptions.map((option) => [option.id, option])),\n    [buildingOptions],\n  );\n\n  const buildingToNearestNode = useMemo(() => {\n    const map = new Map<string, string>();\n    if (routeNodeEntries.length === 0) {\n      return map;\n    }\n\n    buildingOptions.forEach((building) => {\n      let bestId: string | null = null;\n      let bestDistance = Number.POSITIVE_INFINITY;\n      routeNodeEntries.forEach(([nodeId, node]) => {\n        const distance = distanceSquared(building.position, node.position);\n        if (distance < bestDistance) {\n          bestDistance = distance;\n          bestId = nodeId;\n        }\n      });\n      if (bestId) {\n        map.set(building.id, bestId);\n      }\n    });\n\n    return map;\n  }, [buildingOptions, routeNodeEntries]);\n\n  const matchExactBuilding = useCallback(\n    (value: string): BuildingOption | null => {\n      const normalized = normalizeToken(value);\n      if (!normalized) return null;\n      return (\n        buildingOptions.find((option) =>\n          option.tokens.some((token) => token === normalized),\n        ) ?? null\n      );\n    },\n    [buildingOptions],\n  );\n\n  const filterOptions = useCallback(\n    (query: string) => {\n      if (buildingOptions.length === 0) {\n        return [] as BuildingOption[];\n      }\n      const normalized = normalizeToken(query);\n      if (!normalized) {\n        return buildingOptions.slice(0, 12);\n      }\n      return buildingOptions\n        .filter((option) =>\n          option.tokens.some((token) => token.includes(normalized)),\n        )\n        .slice(0, 12);\n    },\n    [buildingOptions],\n  );\n\n  const startBuilding = startBuildingId\n    ? buildingMap.get(startBuildingId) ?? null\n    : null;\n  const endBuilding = endBuildingId\n    ? buildingMap.get(endBuildingId) ?? null\n    : null;\n\n  const startNodeId = startBuildingId\n    ? buildingToNearestNode.get(startBuildingId) ?? null\n    : null;\n  const endNodeId = endBuildingId\n    ? buildingToNearestNode.get(endBuildingId) ?? null\n    : null;\n\n  const computeNodeRoute = useCallback(\n    (startNode: string | null, endNode: string | null): string[] => {\n      if (!startNode || !endNode) {\n        return [];\n      }\n      if (startNode === endNode) {\n        return [startNode];\n      }\n\n      const nodesMap = routeGraph.nodes;\n      if (!nodesMap.has(startNode) || !nodesMap.has(endNode)) {\n        return [];\n      }\n\n      const distances = new Map<string, number>();\n      const previous = new Map<string, string | null>();\n      const queue: Array<{ id: string; distance: number }> = [];\n\n      const enqueue = (id: string, distance: number) => {\n        queue.push({ id, distance });\n        queue.sort((a, b) => a.distance - b.distance);\n      };\n\n      distances.set(startNode, 0);\n      previous.set(startNode, null);\n      enqueue(startNode, 0);\n\n      while (queue.length > 0) {\n        const current = queue.shift()!;\n        if (current.id === endNode) {\n          break;\n        }\n        const node = nodesMap.get(current.id);\n        if (!node) continue;\n        node.neighbors.forEach((weight, neighbor) => {\n          const candidate = current.distance + weight;\n          if (candidate < (distances.get(neighbor) ?? Number.POSITIVE_INFINITY)) {\n            distances.set(neighbor, candidate);\n            previous.set(neighbor, current.id);\n            enqueue(neighbor, candidate);\n          }\n        });\n      }\n\n      if (!previous.has(endNode)) {\n        return [];\n      }\n\n      const path: string[] = [];\n      let current: string | null = endNode;\n      while (current) {\n        path.push(current);\n        current = previous.get(current) ?? null;\n      }\n      path.reverse();\n      return path;\n    },\n    [routeGraph],\n  );\n\n  const routeLine = useMemo(\n    () =>\n      routeNodeIds\n        .map((id) => routeGraph.nodes.get(id)?.position)\n        .filter(\n          (value): value is LatLngTuple =>\n            Array.isArray(value) && value.length === 2,\n        ),\n    [routeNodeIds, routeGraph],\n  );\n\n  const routeSteps = useMemo(() => {\n    const steps: Array<{ id: string; label: string }> = [];\n    if (startBuilding) {\n      steps.push({ id: startBuilding.id, label: startBuilding.name });\n    }\n    if (endBuilding) {\n      steps.push({ id: endBuilding.id, label: endBuilding.name });\n    }\n    return steps;\n  }, [startBuilding, endBuilding]);\n\n  const routeAvailable = routeLine.length > 1;\n\n  const routeSummary = useMemo(() => {\n    if (!startBuildingId || !endBuildingId) {\n      return \"Select two locations to plan a tunnel route.\";\n    }\n    if (!routeAttempted) {\n      return \"Tap find route to calculate the tunnel path.\";\n    }\n    if (routeNodeIds.length === 0) {\n      return \"No tunnel connection found between the selected locations.\";\n    }\n    if (routeNodeIds.length === 1) {\n      return \"You're already at your destination.\";\n    }\n    const segmentCount = routeNodeIds.length - 1;\n    if (startBuilding && endBuilding) {\n      return `${startBuilding.name} → ${endBuilding.name} · ${segmentCount} segment${segmentCount === 1 ? \"\" : \"s\"}`;\n    }\n    return `${segmentCount} segment${segmentCount === 1 ? \"\" : \"s\"} long`;\n  }, [\n    startBuildingId,\n    endBuildingId,\n    routeAttempted,\n    routeNodeIds,\n    startBuilding,\n    endBuilding,\n  ]);\n\n  const startSuggestions = useMemo(\n    () => filterOptions(startQuery),\n    [filterOptions, startQuery],\n  );\n  const endSuggestions = useMemo(\n    () => filterOptions(endQuery),\n    [filterOptions, endQuery],\n  );\n\n  const normalizedStartQuery = normalizeToken(startQuery);\n  const normalizedEndQuery = normalizeToken(endQuery);\n\n  const showStartSuggestions =\n    normalizedStartQuery !== null &&\n    (!startBuilding || normalizeToken(startBuilding.name) !== normalizedStartQuery);\n\n  const showEndSuggestions =\n    normalizedEndQuery !== null &&\n    (!endBuilding || normalizeToken(endBuilding.name) !== normalizedEndQuery);\n\n  const handleStartInputChange = useCallback(\n    (value: string) => {\n      setStartQuery(value);\n      const match = matchExactBuilding(value);\n      if (match) {\n        setStartBuildingId(match.id);\n        setRouteNodeIds([]);\n        setRouteAttempted(false);\n      } else {\n        setStartBuildingId(\"\");\n      }\n    },\n    [matchExactBuilding],\n  );\n\n  const handleEndInputChange = useCallback(\n    (value: string) => {\n      setEndQuery(value);\n      const match = matchExactBuilding(value);\n      if (match) {\n        setEndBuildingId(match.id);\n        setRouteNodeIds([]);\n        setRouteAttempted(false);\n      } else {\n        setEndBuildingId(\"\");\n      }\n    },\n    [matchExactBuilding],\n  );\n\n  const handleStartSuggestionSelect = useCallback((option: BuildingOption) => {\n    setStartBuildingId(option.id);\n    setStartQuery(option.name);\n    setRouteNodeIds([]);\n    setRouteAttempted(false);\n  }, []);\n\n  const handleEndSuggestionSelect = useCallback((option: BuildingOption) => {\n    setEndBuildingId(option.id);\n    setEndQuery(option.name);\n    setRouteNodeIds([]);\n    setRouteAttempted(false);\n  }, []);\n\n  const handleFindRoute = useCallback(() => {\n    const route = computeNodeRoute(startNodeId, endNodeId);\n    setRouteNodeIds(route);\n    setRouteAttempted(true);\n  }, [computeNodeRoute, startNodeId, endNodeId]);\n\n  const handleClear = useCallback(() => {\n    setStartBuildingId(\"\");\n    setEndBuildingId(\"\");\n    setStartQuery(\"\");\n    setEndQuery(\"\");\n    setRouteNodeIds([]);\n    setRouteAttempted(false);\n  }, []);\n\n  const popularRoutes = useMemo(() => {\n    const presets = [\n      {\n        label: \"Northrop → Coffman Union\",\n        startTokens: [\"northrop\"],\n        endTokens: [\"coffman\"],\n      },\n      {\n        label: \"Walter Library → Keller Hall\",\n        startTokens: [\"walter\"],\n        endTokens: [\"keller\"],\n      },\n      {\n        label: \"STSS → Peik Hall\",\n        startTokens: [\"stss\", \"science teaching\"],\n        endTokens: [\"peik\"],\n      },\n    ];\n\n    return presets\n      .map((preset) => {\n        const startOption = buildingOptions.find((option) =>\n          preset.startTokens.some((token) =>\n            option.tokens.some((value) => value.includes(token)),\n          ),\n        );\n        const endOption = buildingOptions.find((option) =>\n          preset.endTokens.some((token) =>\n            option.tokens.some((value) => value.includes(token)),\n          ),\n        );\n        if (!startOption || !endOption) {\n          return null;\n        }\n        return {\n          label: preset.label,\n          startId: startOption.id,\n          endId: endOption.id,\n        };\n      })\n      .filter(Boolean) as Array<{\n      label: string;\n      startId: string;\n      endId: string;\n    }>;\n  }, [buildingOptions]);\n\n  const handlePopularSelect = useCallback(\n    (startId: string, endId: string) => {\n      const startOption = buildingMap.get(startId);\n      const endOption = buildingMap.get(endId);\n      if (!startOption || !endOption) {\n        return;\n      }\n      setStartBuildingId(startId);\n      setEndBuildingId(endId);\n      setStartQuery(startOption.name);\n      setEndQuery(endOption.name);\n      const route = computeNodeRoute(\n        buildingToNearestNode.get(startId) ?? null,\n        buildingToNearestNode.get(endId) ?? null,\n      );\n      setRouteNodeIds(route);\n      setRouteAttempted(true);\n    },\n    [buildingMap, computeNodeRoute, buildingToNearestNode],\n  );\n\n  useEffect(() => {\n    if (!startBuildingId) return;\n    const option = buildingMap.get(startBuildingId);\n    if (option) {\n      setStartQuery(option.name);\n    }\n  }, [startBuildingId, buildingMap]);\n\n  useEffect(() => {\n    if (!endBuildingId) return;\n    const option = buildingMap.get(endBuildingId);\n    if (option) {\n      setEndQuery(option.name);\n    }\n  }, [endBuildingId, buildingMap]);\n\n  return (\n    <div className=\"app-shell\">\n      <header className=\"top-bar\">\n        <div className=\"brand\">\n          <span className=\"brand-icon\" aria-hidden=\"true\">\n            CS\n          </span>\n          <div>\n            <strong>Campus Sync</strong>\n            <span className=\"brand-subtitle\">UMN Tunnel Explorer</span>\n          </div>\n        </div>\n        <div className=\"search-bar\" role=\"search\">\n          <input\n            type=\"text\"\n            placeholder=\"Search buildings, tunnels, or dining\"\n            aria-label=\"Search campus map\"\n          />\n          <button type=\"button\">Search</button>\n        </div>\n        <div className=\"header-actions\">\n          <button type=\"button\" className=\"icon-button\" aria-label=\"Map layers\">\n            ⊞\n          </button>\n          <button type=\"button\" className=\"icon-button\" aria-label=\"Settings\">\n            ☰\n          </button>\n          <div className=\"avatar\" aria-hidden=\"true\">\n            NK\n          </div>\n        </div>\n      </header>\n\n      <div className=\"workspace\">\n        <aside className=\"side-panel\">\n          <section className=\"panel-section\">\n            <h2>Explore tunnels</h2>\n            <p>\n              Toggle layers and highlights to plan your trip through the Gopher\n              Way tunnel network.\n            </p>\n            <div className=\"layer-options\">\n              <button className=\"layer-toggle active\" type=\"button\">\n                <span className=\"status-dot open\" aria-hidden=\"true\" />\n                Open tunnels\n              </button>\n              <button className=\"layer-toggle\" type=\"button\">\n                <span className=\"status-dot limited\" aria-hidden=\"true\" />\n                Limited access\n              </button>\n              <button className=\"layer-toggle\" type=\"button\">\n                <span className=\"status-dot construction\" aria-hidden=\"true\" />\n                Construction updates\n              </button>\n            </div>\n          </section>\n\n          <section className=\"panel-section\">\n            <h3>Plan a route</h3>\n            <div className=\"route-form\">\n              <label className=\"route-field\">\n                <span>Start</span>\n                <input\n                  type=\"text\"\n                  value={startQuery}\n                  onChange={(event) => handleStartInputChange(event.target.value)}\n                  placeholder=\"Search building\"\n                  autoComplete=\"off\"\n                  list=\"building-options-list\"\n                />\n                {showStartSuggestions && startSuggestions.length > 0 && (\n                  <ul className=\"route-suggestions\">\n                    {startSuggestions.map((option) => (\n                      <li key={option.id}>\n                        <button\n                          type=\"button\"\n                          onClick={() => handleStartSuggestionSelect(option)}\n                        >\n                          {option.name}\n                        </button>\n                      </li>\n                    ))}\n                  </ul>\n                )}\n              </label>\n              <label className=\"route-field\">\n                <span>Destination</span>\n                <input\n                  type=\"text\"\n                  value={endQuery}\n                  onChange={(event) => handleEndInputChange(event.target.value)}\n                  placeholder=\"Search building\"\n                  autoComplete=\"off\"\n                  list=\"building-options-list\"\n                />\n                {showEndSuggestions && endSuggestions.length > 0 && (\n                  <ul className=\"route-suggestions\">\n                    {endSuggestions.map((option) => (\n                      <li key={option.id}>\n                        <button\n                          type=\"button\"\n                          onClick={() => handleEndSuggestionSelect(option)}\n                        >\n                          {option.name}\n                        </button>\n                      </li>\n                    ))}\n                  </ul>\n                )}\n              </label>\n              <div className=\"route-actions\">\n                <button\n                  type=\"button\"\n                  className=\"layer-toggle\"\n                  onClick={handleFindRoute}\n                  disabled={!startBuildingId || !endBuildingId}\n                >\n                  Find route\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"layer-toggle\"\n                  onClick={handleClear}\n                  disabled={\n                    !startBuildingId &&\n                    !endBuildingId &&\n                    startQuery === \"\" &&\n                    endQuery === \"\" &&\n                    routeNodeIds.length === 0\n                  }\n                >\n                  Clear\n                </button>\n              </div>\n              <p className=\"route-summary\">{routeSummary}</p>\n            </div>\n            <datalist id=\"building-options-list\">\n              {buildingOptions.map((option) => (\n                <option key={option.id} value={option.name} />\n              ))}\n            </datalist>\n          </section>\n\n          <section className=\"panel-section\">\n            <h3>Popular connections</h3>\n            <ul className=\"popular-list\">\n              {popularRoutes.map((route, index) => (\n                <li key={`${route.startId}-${route.endId}`}>\n                  <button\n                    type=\"button\"\n                    className=\"layer-toggle\"\n                    onClick={() =>\n                      handlePopularSelect(route.startId, route.endId)\n                    }\n                  >\n                    <span className=\"node-badge\">\n                      {String.fromCharCode(65 + index)}\n                    </span>\n                    {route.label}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </section>\n\n          <section className=\"panel-section tunnel-legend\">\n            <h3>Segment legend</h3>\n            <ul>\n              <li>\n                <span className=\"legend-line open\" aria-hidden=\"true\" />\n                Open underground connector\n              </li>\n              <li>\n                <span className=\"legend-line detour\" aria-hidden=\"true\" />\n                Winter route detour\n              </li>\n              <li>\n                <span className=\"legend-dot academic\" aria-hidden=\"true\" />\n                {NODE_TYPE_LABEL.academic}\n              </li>\n              <li>\n                <span className=\"legend-dot student\" aria-hidden=\"true\" />\n                {NODE_TYPE_LABEL.student}\n              </li>\n              <li>\n                <span className=\"legend-dot research\" aria-hidden=\"true\" />\n                {NODE_TYPE_LABEL.research}\n              </li>\n            </ul>\n          </section>\n        </aside>\n\n        <main className=\"map-area\">\n          <div className=\"map-canvas\">\n            <MapView\n              routeLine={routeLine}\n              geoJsonLayers={geoJsonLayers}\n              startMarker={startBuilding?.position ?? null}\n              endMarker={endBuilding?.position ?? null}\n            />\n\n            <div className=\"floating-card directions-card\">\n              <header>\n                <strong>Route preview</strong>\n                {routeAvailable && (\n                  <span className=\"badge badge-live\">\n                    {routeNodeIds.length - 1} segment\n                    {routeNodeIds.length - 1 === 1 ? \"\" : \"s\"}\n                  </span>\n                )}\n              </header>\n              {routeSteps.length > 0 ? (\n                <ol>\n                  {routeSteps.map((step, index) => (\n                    <li key={step.id}>\n                      <span className=\"step-index\">\n                        {String.fromCharCode(65 + index)}\n                      </span>\n                      {step.label}\n                    </li>\n                  ))}\n                </ol>\n              ) : (\n                <p>\n                  {routeAttempted && startBuilding && endBuilding\n                    ? \"No tunnel connection found between the selected locations.\"\n                    : \"Select a start and destination to preview a tunnel route.\"}\n                </p>\n              )}\n            </div>\n\n            <div className=\"floating-card status-card\">\n              <strong>Status</strong>\n              <p>\n                Heating plant passage open until 11:30&nbsp;PM. Expect\n                increased traffic near Coffman due to event setup.\n              </p>\n            </div>\n\n            <div className=\"floating-card layer-card\">\n              <strong>Layers</strong>\n              <ul>\n                <li>\n                  <span className=\"layer-dot open\" />\n                  Winter walkways\n                </li>\n                <li>\n                  <span className=\"layer-dot limited\" />\n                  Accessible routes\n                </li>\n                <li>\n                  <span className=\"layer-dot detour\" />\n                  Maintenance alerts\n                </li>\n              </ul>\n            </div>\n\n            <div className=\"scale-indicator\" aria-hidden=\"true\">\n              <div className=\"scale-bar\" />\n              200 ft\n            </div>\n\n            <div className=\"map-attribution\">\n              Unofficial visualization. Not for outdoor navigation.\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}